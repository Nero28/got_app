{"ast":null,"code":"export default class GotService {\n  constructor() {\n    this.getResource = async url => {\n      const res = await fetch(`${this._apiBase}${url}`);\n\n      if (!res.ok) {\n        throw new Error(`Could not fetch ${url}` + `, received ${res.status}`);\n      }\n\n      return await res.json();\n    };\n\n    this._apiBase = 'https://www.anapioficeandfire.com/api';\n  }\n\n  getAllBooks() {\n    return this.getResource(`/books/`);\n  }\n\n  getBook(id) {\n    return this.getResource(`/books/${id}/`);\n  }\n\n  async getAllCharacters() {\n    const res = await this.getResource(`/characters?page=5&pageSize=10`);\n    return res.map(this._transformCharacter);\n  }\n\n  async getCharacter(id) {\n    const character = this.getResource(`/characters/${id}`);\n    return this._transformCharacter(character);\n  }\n\n  getAllHouses() {\n    return this.getResource(`/houses/`);\n  }\n\n  getHouse(id) {\n    return this.getResource(`/houses/${id}/`);\n  }\n\n  _transformCharacter(char) {\n    return {\n      name: char.name,\n      gender: char.gender,\n      born: char.born,\n      died: char.died,\n      culture: char.culture\n    };\n  }\n\n  _transformHouse(house) {\n    return {\n      name: house.name,\n      region: house.name,\n      words: house.words,\n      titles\n    };\n  }\n\n}","map":{"version":3,"sources":["/home/nero/Documents/DEV/got_app/got_app/src/services/gotService.js"],"names":["GotService","constructor","getResource","url","res","fetch","_apiBase","ok","Error","status","json","getAllBooks","getBook","id","getAllCharacters","map","_transformCharacter","getCharacter","character","getAllHouses","getHouse","char","name","gender","born","died","culture","_transformHouse","house","region","words","titles"],"mappings":"AAAA,eAAe,MAAMA,UAAN,CAAiB;AAC5BC,EAAAA,WAAW,GAAG;AAAA,SAIdC,WAJc,GAIA,MAAOC,GAAP,IAAe;AACzB,YAAMC,GAAG,GAAG,MAAMC,KAAK,CAAE,GAAE,KAAKC,QAAS,GAAEH,GAAI,EAAxB,CAAvB;;AAEA,UAAI,CAACC,GAAG,CAACG,EAAT,EAAa;AACT,cAAM,IAAIC,KAAJ,CAAW,mBAAkBL,GAAI,EAAvB,GACX,cAAaC,GAAG,CAACK,MAAO,EADvB,CAAN;AAEH;;AACD,aAAO,MAAML,GAAG,CAACM,IAAJ,EAAb;AACH,KAZa;;AACV,SAAKJ,QAAL,GAAgB,uCAAhB;AACH;;AAYDK,EAAAA,WAAW,GAAG;AACV,WAAO,KAAKT,WAAL,CAAkB,SAAlB,CAAP;AACH;;AAEDU,EAAAA,OAAO,CAACC,EAAD,EAAK;AACR,WAAO,KAAKX,WAAL,CAAkB,UAASW,EAAG,GAA9B,CAAP;AACH;;AAED,QAAMC,gBAAN,GAAyB;AACrB,UAAMV,GAAG,GAAG,MAAM,KAAKF,WAAL,CAAkB,gCAAlB,CAAlB;AACA,WAAOE,GAAG,CAACW,GAAJ,CAAQ,KAAKC,mBAAb,CAAP;AACH;;AAED,QAAMC,YAAN,CAAmBJ,EAAnB,EAAuB;AACnB,UAAMK,SAAS,GAAG,KAAKhB,WAAL,CAAkB,eAAcW,EAAG,EAAnC,CAAlB;AACA,WAAO,KAAKG,mBAAL,CAAyBE,SAAzB,CAAP;AACH;;AAEDC,EAAAA,YAAY,GAAG;AACX,WAAO,KAAKjB,WAAL,CAAkB,UAAlB,CAAP;AACH;;AAEDkB,EAAAA,QAAQ,CAACP,EAAD,EAAK;AACT,WAAO,KAAKX,WAAL,CAAkB,WAAUW,EAAG,GAA/B,CAAP;AACH;;AAEDG,EAAAA,mBAAmB,CAACK,IAAD,EAAO;AACtB,WAAO;AACHC,MAAAA,IAAI,EAAED,IAAI,CAACC,IADR;AAEHC,MAAAA,MAAM,EAAEF,IAAI,CAACE,MAFV;AAGHC,MAAAA,IAAI,EAAEH,IAAI,CAACG,IAHR;AAIHC,MAAAA,IAAI,EAAEJ,IAAI,CAACI,IAJR;AAKHC,MAAAA,OAAO,EAAEL,IAAI,CAACK;AALX,KAAP;AAOH;;AAEDC,EAAAA,eAAe,CAACC,KAAD,EAAQ;AACnB,WAAO;AACHN,MAAAA,IAAI,EAAEM,KAAK,CAACN,IADT;AAEHO,MAAAA,MAAM,EAAED,KAAK,CAACN,IAFX;AAGHQ,MAAAA,KAAK,EAAEF,KAAK,CAACE,KAHV;AAIHC,MAAAA;AAJG,KAAP;AAMH;;AA1D2B","sourcesContent":["export default class GotService {\n    constructor() {\n        this._apiBase = 'https://www.anapioficeandfire.com/api';\n    }\n\n    getResource = async (url) => {\n        const res = await fetch(`${this._apiBase}${url}`);\n\n        if (!res.ok) {\n            throw new Error(`Could not fetch ${url}` +\n                `, received ${res.status}`);\n        }\n        return await res.json();\n    }\n\n    getAllBooks() {\n        return this.getResource(`/books/`);\n    }\n\n    getBook(id) {\n        return this.getResource(`/books/${id}/`);\n    }\n\n    async getAllCharacters() {\n        const res = await this.getResource(`/characters?page=5&pageSize=10`);\n        return res.map(this._transformCharacter);\n    }\n\n    async getCharacter(id) {\n        const character = this.getResource(`/characters/${id}`);\n        return this._transformCharacter(character);\n    }\n\n    getAllHouses() {\n        return this.getResource(`/houses/`);\n    }\n\n    getHouse(id) {\n        return this.getResource(`/houses/${id}/`);\n    }\n\n    _transformCharacter(char) {\n        return {\n            name: char.name,\n            gender: char.gender,\n            born: char.born,\n            died: char.died,\n            culture: char.culture,\n        }\n    }\n\n    _transformHouse(house) {\n        return {\n            name: house.name,\n            region: house.name,\n            words: house.words,\n            titles\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}